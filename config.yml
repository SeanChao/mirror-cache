port: 9000
url: http://localhost:9000 # url of this app
# log level: error / warn / info / debug / trace, default level is info
log_level: info

redis:
  url: redis://localhost

builtin:
  pypi_index:
    policy: "policy_ttl_60"
    upstream: "https://pypi.org/simple"
  pypi_packages:
    policy: "policy_lru"
    upstream: "https://files.pythonhosted.org/packages"
  anaconda_index:
    policy: "policy_ttl_60"
    upstream: "https://repo.anaconda.com/pkgs"
  anaconda_packages:
    policy: "policy_lru_anaconda"
    upstream: "https://repo.anaconda.com/pkgs"

rules:
  - path: "ubuntu/dists/(.*)/(.*)"
    policy: "policy_ubuntu"
    upstream: "http://archive.ubuntu.com/ubuntu/dists/$1/$2"

policies:
  - name: policy_ttl_60
    type: TTL
    path: "cache/ttl"
    timeout: 60
  - name: policy_lru
    type: LRU
    size: 1073741824
    path: "cache/lru"
  - name: policy_lru_anaconda
    type: LRU
    size: 1073741824
    path: "cache/lru"
  - name: policy_ubuntu
    type: LRU
    size: 0x2000000 # 32M
    path: cache/ubuntu
